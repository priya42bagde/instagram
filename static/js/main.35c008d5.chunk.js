(this.webpackJsonpinstagram=this.webpackJsonpinstagram||[]).push([[0],{29:function(e,a,s){},37:function(e,a,s){"use strict";s.r(a);var t=s(6),n=s.n(t),c=s(23),i=s.n(c),r=(s(29),s(14)),o=s(24),l=s(15),m=s.n(l),d=s(18),j=s(10),u=s(13);u.a.initializeApp({apiKey:"AIzaSyAnJ6SulKDfG2HiPN9nKqqidOYoLgG_ovQ",authDomain:"instagram-4423d.firebaseapp.com",projectId:"instagram-4423d",storageBucket:"instagram-4423d.appspot.com",messagingSenderId:"285912607577",appId:"1:285912607577:web:83c079fa48f43d5ed2fa48",measurementId:"G-VFWD6G9NKS"});var b=u.a.firestore(),g=u.a.auth(),p=u.a.storage(),h=s(3),O=Object(t.createContext)(),x=function(e){var a=n.a.useState(!1),s=Object(j.a)(a,2),t=s[0],c=s[1],i=n.a.useState(null),r=Object(j.a)(i,2),o=r[0],l=r[1],x=n.a.useState(!0),v=Object(j.a)(x,2),_=v[0],f=v[1],N=n.a.useState([]),y=Object(j.a)(N,2),S=y[0],C=y[1],w=function(){var e=Object(d.a)(m.a.mark((function e(a){var s,t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.username,t=a.email,n=a.password,e.prev=1,e.next=4,g.createUserWithEmailAndPassword(t,n);case 4:e.sent.user.updateProfile({displayName:s}),c(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(m.a.mark((function e(a){var s,t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.email,t=a.password,e.next=3,g.signInWithEmailAndPassword(s,t);case 3:n=e.sent,console.log("response",n),c(!1);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.signOut().then((function(){l(null)})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return n.a.useEffect((function(){g.onAuthStateChanged((function(e){l(e),f(!1)})),b.collection("posts").orderBy("currentTime","desc").onSnapshot((function(e){C(e.docs.map((function(e){return{id:e.id,title:e.data().title,image:e.data().image,username:e.data().username}})))}))}),[o,_]),console.log("Login User",o),Object(h.jsx)(O.Provider,{value:{model:t,openModel:function(){c(!0)},closeModel:function(){c(!1)},login:k,register:w,user:o,loader:_,Logout:L,create:function(e){console.log("post data",e);var a=e.title,s=e.image;p.ref("images/${image.name}").put(s).on("state_changed",(function(e){var a=e.bytesTransferred/e.totalBytes*100;console.log("progress here",a)}),(function(e){console.log(e)}),(function(){p.ref("images").child(s.name).getDownloadURL().then((function(e){b.collection("posts").add({title:a,image:e,username:o.displayName,currentTime:u.a.firestore.FieldValue.serverTimestamp()})}))}))},posts:S,publishComment:function(e){var a=e.id,s=e.comment;b.collection("posts").doc(a).collection("comments").add({comment:s,username:o.displayName,currentTime:u.a.firestore.FieldValue.serverTimestamp()})}},children:e.children})},v=function(){var e=n.a.useContext(O),a=e.model,s=e.openModel,t=e.user,c=e.loader,i=e.Logout;console.log("my model",a);var l=function(){s()},m=function(){i()};return Object(h.jsxs)("div",{className:"navbar",children:[Object(h.jsx)("div",{className:"navbar__first",children:Object(h.jsx)("div",{className:"navbar__first-logo",children:Object(h.jsx)("img",{src:"/images/instagramLogo.png",alt:""})})}),Object(h.jsx)("div",{className:"navbar__middle",children:Object(h.jsxs)("div",{className:"navbar__middle-search",children:[Object(h.jsx)("input",{type:"text",className:"navbar__search",placeholder:"Search"}),Object(h.jsx)(r.d,{className:"searchIcon"})]})}),Object(h.jsxs)("div",{className:"navbar__last",children:[Object(h.jsx)("li",{children:Object(h.jsx)(o.a,{className:"navbar__icons"})}),Object(h.jsx)("li",{children:Object(h.jsx)(r.e,{className:"navbar__icons"})}),Object(h.jsx)("li",{children:Object(h.jsx)(r.b,{className:"navbar__icons"})}),Object(h.jsx)("li",{children:Object(h.jsx)(r.c,{className:"navbar__icons"})}),c?"...":!c&&t?Object(h.jsxs)("li",{children:[t.displayName,"/",Object(h.jsx)("span",{onClick:m,children:"Logout"})]}):Object(h.jsx)("li",{onClick:l,children:"Register/Login"})]})]})},_=s(17),f=s(16),N=function(){var e=n.a.useContext(O),a=e.model,s=e.closeModel,t=e.register,c=e.login,i=n.a.useState({register:!0,login:!1}),r=Object(j.a)(i,2),o=r[0],l=r[1],m=n.a.useState({username:"",email:"",password:""}),d=Object(j.a)(m,2),u=d[0],b=d[1],g=function(e){b(Object(f.a)(Object(f.a)({},u),{},Object(_.a)({},e.target.name,e.target.value)))},p=function(){l(Object(f.a)(Object(f.a)({},o),{},{register:!o.register,login:!o.login}))};return console.log(" check1",o),Object(h.jsx)(h.Fragment,{children:a?Object(h.jsx)("div",{className:"model",onClick:function(e){"model"===e.target.getAttribute("class")&&s()},children:Object(h.jsx)("div",{className:"model__container",children:o.register?Object(h.jsx)("div",{className:"model__form",children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(u),t(u),b({username:"",email:"",password:""})},children:[Object(h.jsx)("div",{className:"model__group",children:Object(h.jsx)("img",{src:"/images/instagramLogo.png",alt:""})}),Object(h.jsx)("div",{className:"model__group",children:Object(h.jsx)("input",{type:"text",name:"username",className:"model__input",placeholder:"username...",onChange:g,value:u.username,required:!0})}),Object(h.jsx)("div",{className:"model__group",children:Object(h.jsx)("input",{type:"email",name:"email",className:"model__input",placeholder:"Email...",onChange:g,value:u.email,required:!0})}),Object(h.jsx)("div",{className:"model__group",children:Object(h.jsx)("input",{type:"password",name:"password",className:"model__input",placeholder:"Create Password...",onChange:g,value:u.password,required:!0})}),Object(h.jsx)("div",{className:"model__group",children:Object(h.jsx)("input",{type:"submit",value:"Register",className:"btn btn-smart"})}),Object(h.jsx)("div",{className:"model__group",children:Object(h.jsx)("span",{onClick:p,children:"Already have an account ?"})})]})}):Object(h.jsx)("div",{className:"model__form",children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(u)},children:[Object(h.jsx)("div",{className:"model__group",children:Object(h.jsx)("img",{src:"/images/instagramLogo.png",alt:""})}),Object(h.jsx)("div",{className:"model__group",children:Object(h.jsx)("input",{type:"email",name:"email",className:"model__input",placeholder:"Email...",onChange:g,value:u.email,required:!0})}),Object(h.jsx)("div",{className:"model__group",children:Object(h.jsx)("input",{type:"password",name:"password",className:"model__input",placeholder:"Create Password...",onChange:g,value:u.password,required:!0})}),Object(h.jsx)("div",{className:"model__group",children:Object(h.jsx)("input",{type:"submit",value:"Login",className:"btn btn-smart"})}),Object(h.jsx)("div",{className:"model__group",children:Object(h.jsx)("span",{onClick:p,children:"Create a new account ?"})})]})})})}):""})},y=function(){var e=n.a.useState([{id:1,image:"/images/randoma.jpg",name:"priya95"},{id:2,image:"/images/randomb.jpg",name:"dolly42"},{id:3,image:"/images/randomc.jpg",name:"shalu56"},{id:4,image:"/images/randomd.jpg",name:"toni93"},{id:5,image:"/images/randome.jpg",name:"megha77"},{id:6,image:"/images/randomf.jpg",name:"barkha56"},{id:7,image:"/images/randomg.jpg",name:"Anmol69"},{id:8,image:"/images/randomh.jpg",name:"Lucky55"},{id:9,image:"/images/randomi.jpg",name:"Hema56"},{id:10,image:"/images/randomj.jpg",name:"Koli96"}]),a=Object(j.a)(e,2),s=a[0];a[1];return Object(h.jsx)("div",{className:"stories",children:s.map((function(e){return Object(h.jsxs)("div",{className:"stories__info",children:[Object(h.jsx)("div",{className:"stories__img",children:Object(h.jsx)("span",{children:Object(h.jsx)("img",{src:e.image,alt:"user"})})}),Object(h.jsx)("div",{className:"stories__nane",children:e.name})]},e.id)}))})},S=function(){var e=n.a.useContext(O),a=e.create,s=e.loader,c=e.user,i=Object(t.useState)(""),o=Object(j.a)(i,2),l=o[0],m=o[1],d=Object(t.useState)(""),u=Object(j.a)(d,2),b=u[0],g=u[1];return Object(h.jsx)(h.Fragment,{children:!s&&c?Object(h.jsx)("div",{className:"create",children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a({title:l,image:b}),m(""),g("")},children:[Object(h.jsx)("div",{className:"create__input",children:Object(h.jsx)("input",{type:"text",className:"create__inputt",onChange:function(e){return m(e.target.value)},value:l,placeholder:"What are in your mind",required:!0})}),Object(h.jsxs)("div",{className:"create__second",children:[Object(h.jsx)("label",{htmlFor:"file",children:Object(h.jsx)(r.a,{className:"camera"})}),Object(h.jsx)("input",{type:"file",onChange:function(e){g(e.target.files[0])},className:"file",id:"file",required:!0})]}),Object(h.jsx)("div",{className:"create__second-b",children:Object(h.jsx)("input",{type:"submit",value:"Create",className:"btn-sweet"})})]})}):""})},C=function(e){var a=n.a.useContext(O),s=a.loader,t=a.user,c=a.publishComment,i=n.a.useState(""),r=Object(j.a)(i,2),o=r[0],l=r[1],m=n.a.useState([]),d=Object(j.a)(m,2),u=d[0],g=d[1];return n.a.useEffect((function(){b.collection("posts").doc(e.id).collection("comments").orderBy("currentTime","desc").onSnapshot((function(e){g(e.docs.map((function(e){return e.data()})))}))}),[]),Object(h.jsxs)("div",{className:"comments",children:[u.map((function(e){return Object(h.jsxs)("div",{className:"comments__container",children:[Object(h.jsx)("div",{className:"comments__container-name",children:e.username}),Object(h.jsx)("div",{className:"comments__container-msg",children:e.comment})]},e.id)})),Object(h.jsx)("div",{className:"comments__section",children:!s&&t?Object(h.jsx)("form",{onSubmit:function(a){a.preventDefault(),c({id:e.id,Comment:o}),l("")},children:Object(h.jsx)("input",{type:"text",className:"comment__input",onChange:function(e){return l(e.target.value)},value:o,placeholder:"Add a comments...",required:!0})}):""})]})},w=function(){var e=n.a.useContext(O).posts;return Object(h.jsx)(h.Fragment,{children:e.map((function(e){return Object(h.jsxs)("div",{className:"posts",children:[Object(h.jsxs)("div",{className:"posts__header",children:[Object(h.jsx)("div",{className:"posts__header-avator",children:e.username[0]}),Object(h.jsx)("div",{className:"posts__header-name",children:e.username})]}),Object(h.jsx)("div",{className:"posts__img",children:Object(h.jsx)("img",{src:e.image,alt:e.image})}),Object(h.jsx)(C,{id:e.id})]},e.id)}))})},k=function(){var e=n.a.useContext(O),a=e.loader,s=e.user,t=!a&&s&&s.displayName?s.displayName:"",c=n.a.useState([{id:1,image:"/images/randoma.jpg",name:"Sonal"},{id:2,image:"/images/randomb.jpg",name:"Anmol"},{id:3,image:"/images/randomc.jpg",name:"Sona"},{id:4,image:"/images/randomd.jpg",name:"Shalu"},{id:5,image:"/images/randome.jpg",name:"Pihu"},{id:6,image:"/images/randomf.jpg",name:"Shashi"},{id:7,image:"/images/randomg.jpg",name:"Royal"}]),i=Object(j.a)(c,1)[0];return Object(h.jsxs)("div",{className:"sidebar",children:[!a&&s?Object(h.jsxs)("div",{className:"sidebar__user",children:[Object(h.jsxs)("div",{className:"sidebar__user-avator",children:[t[0]," "]}),Object(h.jsx)("div",{className:"sidebar__user-name",children:t})]}):"",Object(h.jsxs)("div",{className:"sidebar__list",children:[Object(h.jsx)("h3",{children:"Suggestions for you"}),i.map((function(e){return Object(h.jsxs)("div",{className:"sidebar__list-user",children:[Object(h.jsxs)("div",{className:"sidebar__list-a",children:[Object(h.jsx)("div",{className:"sidebar__list-a-img",children:Object(h.jsx)("img",{src:e.image,alt:e.image})}),Object(h.jsx)("div",{className:"sidebar__list-a-name",children:e.name})]}),Object(h.jsx)("div",{className:"sidebar__list-b",children:Object(h.jsx)("a",{href:"",children:"Follow"})})]},e.id)}))]})]})};var L=function(){return Object(h.jsxs)(x,{children:[Object(h.jsx)(v,{}),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(y,{}),Object(h.jsx)(S,{}),Object(h.jsx)(w,{}),Object(h.jsx)(k,{})]}),Object(h.jsx)(N,{})]})};i.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(L,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.35c008d5.chunk.js.map